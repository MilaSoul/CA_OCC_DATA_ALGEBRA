import java.sql.Connection;
import java.sql.PreparedStatement;
import java.util.Arrays;
import java.util.Scanner;
import server_interaction.Table_Interaction;


/**
 *
 * @author milastolbetskaya
 * this code going to sort 2 variable linear equations
 */
public class  Equations {


// creating var that we will be needed for the equation

private String[] xy = {"x", "y"}; 
private int[] var_xy = {0,0,0,0};
private int[] constant = {0,0};
private float det;
private float[] inversA ={0,0,0,0};
private float[] axb = {0,0};
private float[] xandy = {0,0};
private String eq,eq_2;

Scanner sc;



    public Equations() throws Exception {
        this.sc = new Scanner(System.in); //users input
solutionSplit();
       
       // getters and seters to manipulate values 
       
      
    }

    public String getEq() {
        return eq;
    }

    public void setEq(String eq) {
        this.eq = eq;
    }

    public String getEq_2() {
        return eq_2;
    }

    public void setEq_2(String eq_2) {
        this.eq_2 = eq_2;
    }


    public float getDet() {
        return det;
    }

    public void setDet(float det) {
        this.det = det;
    }
        
    public String[] getXy() {
        return xy;
    }

    public void setXy(String[] xy) {
        this.xy = xy;
    }

    public int[] getVar_xy() {
        return var_xy;
    }

    public void setVar_xy(int[] var_xy) {
        this.var_xy = var_xy;
    }

    public int[] getConstant() {
        return constant;
    }

    public void setConstant(int[] constant) {
        this.constant = constant;
    }

    public float[] getInversA() {
        return inversA;
    }

    public void setInversA(float[] inversA) {
        this.inversA = inversA;
    }

    public float[] getAxb() {
        return axb;
    }

    public void setAxb(float[] axb) {
        this.axb = axb;
    }

    public float[] getXandy() {
        return xandy;
    }

    public void setXandy(float[] xandz) {
        this.xandy = xandz;
    }

 

  


 
 public void solutionSplit() throws Exception{ 
 
     
     System.out.println("Please type your first equation, it should follow this model : 2x-3y=10:");
      this.setEq(sc.next().toLowerCase().trim().replace(" ",""));
     //this.setEq("2x-3y=2");
     
    String[] x = this.getEq().split("x"); //spliting string and get val befor x

    var_xy[0]=Integer.parseInt(x[0]); //parsing into integer 
    
    String[] y = x[1].split("y"); //spliting string and get val before y
    
    var_xy[1]=Integer.parseInt(y[0]);  // parsing into integres
  
    
    
    String[] constant2 = y[1].split("="); // spliting string and get val of determinant 
    
    constant[0] = Integer.parseInt(constant2[1]); //
    
    
     System.out.println("Please type your second equation, it should follow this model : 2x-3y=10:");
     this.setEq_2(sc.next().toLowerCase().trim().replace(" ",""));
     //this.setEq_2("3x+8y=3");
     
     String[] x_2 = this.getEq_2().split("x"); //spliting string and get val befor x
     var_xy[2] = Integer.parseInt(x_2[0]);
     
     String[] y_2 = x_2[1].split("y"); //spliting string and get val before y
     var_xy[3] = Integer.parseInt(y_2[0]);//parsing into integer 
     
     String[] const_2 = y_2[1].split("="); // parsing into integres
     constant[1]=Integer.parseInt(const_2[1]); //parsing into integer 
     
//     System.out.println(x_2[0]);
//     System.out.println(x_2[1]);
//     
//     System.out.println(y_2[0]);
//     System.out.println(y_2[1]);
//     
//     System.out.println(const_2[1]);
     
     

//     System.out.println(this.getVar_xy()[0]);
//     System.out.println(this.getVar_xy()[1]);
//     System.out.println(this.getConstant()[0]);
//     
//     System.out.println(this.getVar_xy()[2]);
//     System.out.println(this.getVar_xy()[3]);
//     System.out.println(this.getConstant()[1]);
     
     det(); 
     
    
 }
 
 public void det() throws Exception{
     
     System.out.println("This is the value for the Determinant|A| :");

     this.setDet((this.getVar_xy()[0] * this.getVar_xy()[3]) - (this.getVar_xy()[1] * (this.getVar_xy()[2])));
     
     System.out.println(this.getDet());
     
     inverseOfA();
     
}
 
 public void inverseOfA() throws Exception{
   
     System.out.println("This is the inverse of A:");
     inversA[0] = this.getVar_xy()[0];
     inversA[1] = (this.getVar_xy()[1] * -1); // converting into negative number
     inversA[2] = (this.getVar_xy()[2] * -1); // converting into negative number
     inversA[3] = this.getVar_xy()[3];
 
//    inversA[0] = 1.00f;
//     inversA[1] = 2f;
//     inversA[2] = (3f);
//     inversA[3] = 4f;
//     
     System.out.println(Arrays.toString(this.inversA)); 
     inverseAxB();
}
 
 public void inverseAxB() throws Exception{
     System.out.println("This is the solution for Inverse of A x B:");
     this.axb[0] = (((this.getInversA()[3] * this.getConstant()[0]) // 
             + (this.getInversA()[1] * this.getConstant()[1])));
     
     this.axb[1] = ((this.getInversA()[2] * this.getConstant()[0] )
             + (this.getInversA()[0] * this.getConstant()[1])); 
     
     System.out.println(Arrays.toString(axb));
     
     finalSolution();
     
     
 }
 
 public void finalSolution() throws Exception{
     
     System.out.println("These are the final values for X and Y:");
 
 xandy[0] = (1/this.getDet()) * this.getAxb()[0];
 xandy[1] = (1/this.getDet()) * this.getAxb()[1];
 
     System.out.println(Arrays.toString(xandy));
 }
 

 
 
}

 
